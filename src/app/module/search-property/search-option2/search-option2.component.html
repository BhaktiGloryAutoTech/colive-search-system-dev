<ngx-loading
  [show]="loading"
  [config]="{
    primaryColour: '#ED0C6D',
    secondaryColour: '#ED0C6D',
    tertiaryColour: '#ED0C6D'
  }"
>
</ngx-loading>
<div class="container-div" id="search">
  <div class="row col-md-12 search-body">
    <div class="body-container text-center">
      <img class="logo-text" alt="Colive" src="./../../../../assets/Colive Product Sans HDPI Logo.png">
      <div
        class="flex-width"
        id="auoComplete"
        [ngClass]="{ 'suggest-border': suggestionList.length }"
        [ngClass]="{
          'input-search': searchQuery !== '' || suggestionList.length
        }"
      >
        <ng-autocomplete
          class="ng-autocomplete"
          placeholder="Search property or location"
          id="auto-searchbar"
          (selected)="selectEvent($event)"
          (keypress)="keyPress($event)"
          [searchKeyword]="'name'"
          (inputChanged)="onChangeSearch($event)"
          [data]="suggestionList"
          [itemTemplate]="itemTemplate"
          [(ngModel)]="searchQuery"
          (inputCleared)="onClearSearchQuery()"
        >
        </ng-autocomplete>

        <ng-template #itemTemplate let-item>
          <ng-container *ngIf="suggestionList && suggestionList.length">
            <div class="d-flex text-left" id="item-list">
              <ng-container *ngIf="item.type == 'location'">
                <span class="material-icons-outlined location-property"
                  >location_on</span
                >
              </ng-container>
              <ng-container *ngIf="item.type == 'property'">
                <span class="material-icons-outlined location-property"
                  >maps_home_work</span
                >
              </ng-container>
              <ng-container *ngIf="item.type == 'auto'"> </ng-container>

              <a class="suggestion-text" [innerHTML]="item.name"></a>
            </div>
          </ng-container>
        </ng-template>

        <span id="search-span" class="material-icons search-icon">search</span>
        <span
          id="mic-span"
          class="material-icons mic-icon"
          (click)="startStopVoiceRecognition()"
          >mic_none</span
        >
      </div>
      <div class="search-btn d-flex justify-content-center" id="search-button">
        <button
          type="submit"
          class="searchButton colive-search mr-3"
          [disabled]="disableButton"
          (click)="searchFunctionFormat()"
        >
         Colive Search
        </button>
        <button
          type="submit"
          class="searchButton recommened"
          [disabled]="disableButton"
          (click)="searchFunctionFormat()"
        >
         Recommened
        </button>
      </div>
    </div>
  </div>
</div>
